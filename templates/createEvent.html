{% extends 'base.html' %}

{% block head %}

<!-- Required for Leaflet map -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
  integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
  crossorigin="" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
  integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
  crossorigin=""></script>
<link rel="stylesheet" href="/static/styles/mapStyleSheet.css">

<!-- Leaflet User Location plugin: https://github.com/domoritz/leaflet-locatecontrol -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.74.0/dist/L.Control.Locate.min.css" />

<!-- Leaflet Geocoding Plugin: -->
<link rel="stylesheet"
  href="https://maps.locationiq.com/v2/libs/leaflet-geocoder/1.9.6/leaflet-geocoder-locationiq.min.css">
<script src="https://maps.locationiq.com/v2/libs/leaflet-geocoder/1.9.6/leaflet-geocoder-locationiq.min.js"></script>

{% endblock %}

{% block main %}

{% from "includes/_formhelpers.html" import render_field %}
<form action="/createEvent.html" method="POST">
  <div class='form-group'>
    {{render_field(form.title, class_="form-control")}}
  </div>
  <div class='form-group'>
    {{render_field(form.description, class_="form-control")}}
  </div>
  <div class='form-group'>
    {{render_field(form.date, class_="form-control")}}
  </div>
  <div class='form-group'>
    {{render_field(form.latitude, class_="form-control")}}
  </div>
  <div class='form-group'>
    {{render_field(form.longitude, class_="form-control")}}
  </div>
  <div class='form-group'>
    {{render_field(form.street, class_="form-control")}}
  </div>
  <div class='form-group'>
    {{render_field(form.city, class_="form-control")}}
  </div>
  <div class='form-group'>
    {{render_field(form.state, class_="form-control")}}
  </div>

  <p><input type="submit" value="Create Event!" class="formbtn"><input type="reset" class="formbtn"></p>
</form>

<!-- Leaflet Map & plugins -->
<div id="mapid"></div>
<div id="search-box"></div>
<div id="result"></div>
<script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.74.0/dist/L.Control.Locate.min.js"
  charset="utf-8"></script>
<script src="/static/scripts/createEventMap.js"></script>
{% endblock %}
